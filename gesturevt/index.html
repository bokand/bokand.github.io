<!DOCTYPE html>
<script type="module" crossorigin src="/gesturevt/assets/index-8c2866e4.js"></script>

<meta name="viewport" content="width=device-width, minimum-scale=1">

<script>
</script>
<style>
  body {
    margin: 0;
  }
  #backarea {
    position: fixed;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    opacity: 0.1;
    background-color: gainsboro;
    touch-action: none;
  }
  #chevrons {
    position: fixed;
    left: -50px;
    top: 50vh;
    width: 50px;
    height: 50px;
    border-radius: 25px;
    background-color: #2e3c3d;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #a7cdc8;
    will-change: transform;
    
  }

  dialog {
    position: fixed;
    inset: 10px;
    width: auto;
    height: auto;
    background-color:darkslateblue;
    color: rgb(210, 230, 138);
  }

  :root {
    timeline-scope: --progress-timeline;
  }
  
  .scroller {
    width: 100px;
    height: 100px;
    position: relative;
    left: 100px;
    overflow: auto;
    background-color: white;
  }
  .scrollerContent {
    width: 10px;
    height: 10100px
  }
  
  #progressScroller {
    scroll-timeline: --progress-timeline;
    top: 300px;
    visibility: hidden;
    pointer-events: none;
  }
  
  .screen {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    perspective: 800px;
  }

  /* The screen that's moved by an active gesture */
  .screen.active {
    animation-timeline: --progress-timeline;
    animation-fill-mode: forwards;
    animation-timing-function: linear;
  }

  /* style for the top screen in the stack */
  .screen.top {
    z-index: 1;
  }

  /* style for when the gesture is commited and the screen animating to exit */
  .screen.end {
    animation-fill-mode: forwards;
    animation-timing-function: linear;
    animation-duration: 150ms;
    animation-timeline: auto;
  }
  
  #stack {
    position: fixed;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
  }
  
  @keyframes leftchevron {
    to {
      transform: translateX(30px);
    }
  }
  
  @keyframes builtinback {
    to {
      transform: translateX(100vw);
    }
  }

  @keyframes builtinbackend {
    to {
      transform: translateX(150vw);
    }
  }

  @keyframes slidefromleft {
    from {
      transform: translateX(-100vw);
    }
    to {
      transform: translateX(0vw);
    }
  }

  @keyframes slidefromleftend{
    to {
      transform: translateX(0vw);
    }
  }

  @keyframes shrink {
    to {
      transform: scale(0.7);
    }
  }

  @keyframes shrinkend {
    to {
      transform: scale(0);
    }
  }

  @keyframes gmailshrink {
    to {
      transform: scale(0.9);
    }
  }

  @keyframes gmailshrinkend {
    to {
      transform: translateY(-20vh) scale(0.01);
    }
  }

  @keyframes photosshrink {
    to {
      transform: translateX(-18%) translateY(30%) scaleY(0.67) scaleX(0.63);
    }
  }
  @keyframes photosshrinkbg {
    to {
      opacity: 0;
    }
  }

  @keyframes photosshrinkend {
    to {
      transform: translateX(-18%) translateY(30%) scaleY(0.67) scaleX(0.63);
    }
  }

  @keyframes spin {
    to {
      transform: rotateY(-45deg) rotateX(5deg) scale(0.9);
    }
  }

  @keyframes spinend {
    to {
      transform: rotateY(-110deg) rotateX(15deg) scale(0.8);
    }
  }

  @keyframes fade {
    to {
      opacity: 0.5;
      transform: translateX(10vw);
    }
  }

  @keyframes fadeend {
    to {
      opacity: 0;
      transform: translateX(20vw);
    }
  }
</style>

<div id="progressScroller" class="scroller">
  <div class="scrollerContent">Progress</div>
</div>
<div id="stack">
  
</div>
<div id="backarea">
</div>
<div id="chevrons">
    <svg width="40" height="40" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
     <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2.5" stroke-linecap="square" stroke-linejoin="round"/>
    </svg>
</div>
<dialog>
  <div style="height: 100%; display: flex; flex-direction: column">
    <h2 style="margin: 0">
      Gesture View Transitions - Customization Demo
    </h2>
    <p>
      Use mobile device or emulation. (Tested on Pixel 7)
    </p>
    <p>
      This demo simulates how the web would feel if individual
      pages can customize the back-navigation animation within their origin.
    </p>
    <p>
      Swipe left to navigate back. To avoid accidentally triggering Android-OS
      back, the simulated back gesture is accepted from anywhere on the
      screen. Only left back is implemented.
    </p>
    <p>
      Pages are represented by static images that endlessly cycle. Navigations
      that cross an origin simulate Chrome's built-in transition. Each "origin"
      in this demo provides a custom back-animation:
    </p>
    <ul>
      <li>Photos: Hero use case.</li>
      <li>CNN: A faulty override, does nothing.</li>
      <li>GMail: shrink into inbox - slide in settings pannel.</li>
      <li>MDN: Subtle swipe and fade out</li>
      <li>Wikipedia: An "annoying" override - pages rotate around</li>
    </ul>
    <button style="height: 100px; margin-top: auto; background-color: #ccd7ff;" onclick="closeModal();">Start Demo!</button>
  </div>
</dialog>
<script>
  document.querySelector('dialog').showModal();
  function closeModal() {
    document.querySelector('dialog').close();
  }
</script>